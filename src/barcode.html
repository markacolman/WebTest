<html>
<head>
<title>
Barcode Scanner Prototype
</title>
<script src="https://unpkg.com/html5-qrcode@2.0.9/dist/html5-qrcode.min.js"></script>
</head>
<body>
<h1>Barcode Scanner Prototype</h1>
<h2>Scanner functionality appears here</h2>
<div id="qr-reader" style="width: 600px"></div>
  <p>Latest scan:
  <input type="text" width="10" id="latest"/>
  </p>
  <h2>Participants</h2>
  <select id="participants" multiple="true">
  </select>
  <script>
function onScanSuccess(decodedText,decodedResult)
{
  document.getElementById('latest').value=decodedText;
html5QrcodeScanner.clear();
  html5QrcodeScanner.render(onScanSuccess);
}
    function recordParticipant(identifier)
    {
  var participants = document.getElementById('participants');
  var found = false;
  participants.options.forEach(function(participant)
  {
    if (participant.text == identifier) found = true;
  })
  if (!found)
  {
  var newParticipant=document.createElement('OPTION');
newParticipant.text=identifier;
participants.add(newParticipant);
    }
    }
var html5QrcodeScanner=new Html5QrcodeScanner("qr-reader",{fps:10,qrbox:500});
html5QrcodeScanner.render(onScanSuccess);
</script>
</body>
</html>	
